<h1>Favorites</h1>
<br>
<div style="margin-bottom: 50px;">
<app-mortgage-form
  (MortgageCreated)="NewMortgage($event)"
  (VacancyRate)="VacancyRate($event)"
  (NumBeds)="NumBeds($event)"
  (ManagementFee)="ManagementFee($event)">
</app-mortgage-form>
</div>
<div class="property-list">
    <div *ngFor="let p of favoriteProperties" class="property-card">
    <button (click)="DeleteFavorite(user.id, p.data.property_id)">Delete</button>
    <a [routerLink]="['/property-details', p.data.property_id]">
    <img style="width: 300px;"*ngIf="p.data.photos[0].href != null" src="{{ p.data.photos[0]?.href }}"/></a>
    <p *ngIf="p.data.photos[0]?.href == null"><img src = "https://en.pimg.jp/072/139/682/1/72139682.jpg"></p>
    <br>
    <br>
    <h3>{{ p.data.list_price | currency }}</h3>
    <p><strong>{{ p.data.description.beds }} Beds &nbsp; {{ p.data.description.baths }} Baths &nbsp; {{ p.data.description.sqft }} Square Feet</strong> </p>
    <br>
    <app-mortgage-result
    [DisplayResult]="ConvertDetailsToResult(p)"
    [User]="appUser()"
    [Rent]="averageRent"
    [vacancyRate]="vacancyRate"
    [managementFee]="managementFee"
    [AverageRates]="averageRates"
    ></app-mortgage-result>
    </div>
</div>

<div *ngIf="favoriteProperties.length == FavoriteListResult.length ">
<app-map [listPins]="PropertyCoordinates"></app-map>
</div>